<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>M. Sharma | Cyber Academy</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=JetBrains+Mono&display=swap" rel="stylesheet">

<style>
body{
  background:#07090d;
  color:#e5e7eb;
  font-family:'Space Grotesk',sans-serif;
}
.mono{font-family:'JetBrains Mono',monospace}
.glass{
  background:rgba(255,255,255,.05);
  backdrop-filter:blur(16px);
  border:1px solid rgba(255,255,255,.08)
}
.primary{color:#7dd3fc}
.primary-bg{background:#7dd3fc;color:#020617}
.card:hover{background:rgba(125,211,252,.08);transform:translateY(-3px)}
.hidden-section{display:none}
</style>
</head>

<body class="antialiased">

<!-- NAV -->
<nav class="fixed top-0 w-full z-50 glass flex justify-between items-center px-8 py-4">
  <div class="mono uppercase tracking-widest">M. Sharma // Cyber Academy</div>
  <div class="flex gap-6 text-xs uppercase tracking-widest">
    <button onclick="showPage('home')">Home</button>
    <button onclick="showPage('courses')">Courses</button>
    <button onclick="showPage('books')">Books</button>
    <button onclick="showPage('tools')">Tools</button>
    <button onclick="showPage('ctf')">CTF</button>
    <button onclick="showPage('learning')">Learning</button>
    <button onclick="openAuth()">Login</button>
  </div>
</nav>

<main class="pt-28">

<!-- HOME -->
<section id="home" class="page px-6 md:px-24">
  <div class="text-center py-24">
    <h1 class="text-5xl md:text-7xl font-bold mb-6">
      Learn Cybersecurity <span class="primary">Ethically</span>
    </h1>
    <p class="opacity-70 max-w-2xl mx-auto">
      Real-world cybersecurity education, labs, CTFs and books built for defenders.
    </p>
  </div>
</section>

<!-- COURSES -->
<section id="courses" class="page hidden-section px-6 md:px-24 py-16">
  <h2 class="text-4xl font-bold mb-10 uppercase">Courses</h2>
  <div id="coursesList" class="grid md:grid-cols-3 gap-8"></div>
</section>

<!-- BOOKS -->
<section id="books" class="page hidden-section px-6 md:px-24 py-16">
  <h2 class="text-4xl font-bold mb-10 uppercase">Books (₹49)</h2>
  <div id="booksList" class="grid md:grid-cols-3 gap-8"></div>
</section>

<!-- TOOLS -->
<section id="tools" class="page hidden-section px-6 md:px-24 py-16">
  <h2 class="text-4xl font-bold mb-10 uppercase">Security Tools</h2>
  <div id="toolsList" class="grid md:grid-cols-2 gap-8"></div>
</section>

<!-- CTF -->
<section id="ctf" class="page hidden-section px-6 md:px-24 py-16">
  <h2 class="text-4xl font-bold mb-10 uppercase">CTF & Daily Hunters</h2>
  <div id="ctfList" class="grid md:grid-cols-2 gap-8"></div>
</section>

<!-- LEARNING -->
<section id="learning" class="page hidden-section px-6 md:px-24 py-16">
  <h2 class="text-4xl font-bold mb-6 uppercase">Learning Programs</h2>
  <p class="opacity-70 mb-8">
    Here you will get latest free courses and programs news by other community & company
  </p>
  <div id="learningList" class="grid md:grid-cols-2 gap-8"></div>
</section>

</main>

<!-- AUTH PANEL -->
<div id="authPanel" class="fixed top-0 right-0 h-full w-80 glass hidden z-50 p-6">
  <h3 class="text-xl font-bold mb-4">Login / Signup</h3>
  <input id="email" type="email" placeholder="Email" class="w-full mb-3 p-2 bg-black/40 border border-white/10">
  <input id="password" type="password" placeholder="Password" class="w-full mb-4 p-2 bg-black/40 border border-white/10">
  <button onclick="login()" class="primary-bg w-full py-2 mb-2">Login</button>
  <button onclick="signup()" class="border w-full py-2">Signup</button>
  <button onclick="closeAuth()" class="text-xs opacity-60 mt-4">Close</button>
</div>

<!-- FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";
import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBsnsYzyQF-ufzTYmWpPUAPSKwhQrDW-0U",
  authDomain: "ideas-hub-250c8.firebaseapp.com",
  projectId: "ideas-hub-250c8",
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

/* ---------- AUTH ---------- */
window.login = async()=>{
  await signInWithEmailAndPassword(auth,email.value,password.value);
  closeAuth();
};
window.signup = async()=>{
  await createUserWithEmailAndPassword(auth,email.value,password.value);
  closeAuth();
};

/* ---------- NAV ---------- */
window.showPage = (id)=>{
  document.querySelectorAll('.page').forEach(p=>p.classList.add('hidden-section'));
  document.getElementById(id).classList.remove('hidden-section');
};

/* ---------- AUTH UI ---------- */
window.openAuth=()=>authPanel.classList.remove('hidden');
window.closeAuth=()=>authPanel.classList.add('hidden');

/* ---------- SEED DATABASE (RUN ONCE) ---------- */
async function seed(){
  const courses=[ "Ethical Hacking Essentials","Web Penetration Testing","Malware Analysis","SQL Injection","Scanning & Recon","Shell Scripting","Network Fundamentals","Machine Learning","C Language","Python","Bash"];
  for(const c of courses){
    await addDoc(collection(db,"courses"),{
      title:c,
      description:"Professional cybersecurity course. Coming soon.",
      thumbnail:"https://source.unsplash.com/400x300/?cybersecurity"
    });
  }

  const books=["Kali Linux Cheatsheet","The Hacker’s Playbook","Bug Hunting Checklist","Hacking: Art of Information Gathering"];
  for(const b of books){
    await addDoc(collection(db,"books"),{
      title:b,
      description:"Cybersecurity book for professionals.",
      price:49,
      thumbnail:"https://source.unsplash.com/400x300/?hacking"
    });
  }

  const tools=["Keylogger","Spyware","Malware","RAT v12"];
  for(const t of tools){
    await addDoc(collection(db,"tools"),{
      title:t,
      description:"Educational lab tool for security research."
    });
  }

  await addDoc(collection(db,"ctf"),{title:"Daily Hunters",description:"Updated very soon"});
  await addDoc(collection(db,"learning"),{title:"Community Feed"});
}
// seed(); // ← RUN ONLY ONCE THEN COMMENT

/* ---------- LOAD DATA ---------- */
async function load(col,id){
  const snap=await getDocs(collection(db,col));
  snap.forEach(d=>{
    document.getElementById(id).innerHTML+=`
      <div class="glass p-6 card">
        <h4 class="font-bold primary">${d.data().title}</h4>
        <p class="text-sm opacity-60">${d.data().description||""}</p>
      </div>`;
  });
}

load("courses","coursesList");
load("books","booksList");
load("tools","toolsList");
load("ctf","ctfList");
load("learning","learningList");

</script>

</body>
</html>
